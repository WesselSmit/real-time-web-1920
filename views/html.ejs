<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="/css/master.css" type="text/css">
	<link rel="icon" href="/media/images/logo_color.ico" type="image/x-icon" />
	<title>Code Exchange</title>

	<script src="./libraries/codemirror/lib/codemirror.js"></script>
	<script src="./libraries/codemirror/mode/xml/xml.js"></script>
	<script src="./libraries/codemirror/addon/display/placeholder.js"></script>
	<script src="./libraries/codemirror/addon/edit/closetag.js"></script>
	<script src="./libraries/codemirror/addon/search/searchcursor.js"></script>

	<link rel="stylesheet" href="./libraries/codemirror/lib/codemirror.css" type="text/css">
	<link rel="stylesheet" href="./libraries/codemirror/theme/dracula.css" type="text/css">
</head>

<body id="room">

	<input type="hidden" id="info" room-language="html" room-mode="xml" room-name="<%= roomName %>"
		user-name="<%= username %>" host-name="<%= host %>">

	<main>
		<section id="code-container">
			<textarea id="editor" placeholder="<!-- Type your HTML code here... -->"></textarea>
		</section>

		<%- include('partials/communication', {host, username}) %>
		<!-- TODO: onderstaande form moet in communication.ejs komen te staan -->
		<section id="communication-container">
			<form id="pr-menu">
				<fieldset id="pr-input-container" class="hidden">
					<p id="pr-submit-warning" class="hidden">Reference & Suggestion are required to submit</p>

					<label for="pr-message">Message <span>(optional)</span></label>
					<textarea id="pr-message" placeholder="Enter Pull-Request message"></textarea>

					<label for="pr-reference">Reference</label>
					<textarea id="pr-reference"
						placeholder="Your selection is blank! &#10; &#10;Either select the code you want to reference by selecting the code in the editor, &#10;Or select some whitespace to insert code at cursor position without overwriting. &#10; &#10;NOTE: A selection is required for pull-requests!"
						readonly></textarea>

					<label for="pr-suggestion">Suggested Changes <span>(required)</span></label>
					<textarea id="pr-suggestion" placeholder="Enter code that'll overwrite the reference"></textarea>
				</fieldset>

				<div id="pr-toggle-container" class="minimized">
					<input type="checkbox" id="pr-toggle">
					<label for="pr-toggle"></label>

					<button id="pr-submit">Submit</button>
				</div>
			</form>
		</section>

		<%- include('partials/menu') %>
	</main>

	<script src="/socket.io/socket.io.js"></script>
	<script type="module" src="/js/main.js"></script>
</body>

</html>